{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "id": "https://raw.githubusercontent.com/MikkelSchubert/adapterremoval/v3.0.0-alpha2/schema.json",
    "title": "AdapterRemoval",
    "description": "Summary statistics generated by AdapterRemoval",
    "type": "object",
    "additionalProperties": false,
    "properties": {
        "meta": {
            "description": "Meta-data about the AdapterRemoval run that produced this JSON file",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "command": {
                    "description": "The command-line (arguments) used to run AdapterRemoval",
                    "$ref": "#/definitions/non-empty-array-of-strings"
                },
                "runtime": {
                    "description": "Runtime in seconds",
                    "$ref": "#/definitions/non-negative-number"
                },
                "version": {
                    "description": "The version of AdapterRemoved used to create this report",
                    "$ref": "#/definitions/non-empty-string"
                }
            },
            "required": [
                "command",
                "runtime",
                "version"
            ]
        },
        "summary": {
            "description": "Summary statistics of input, analyses, processing steps, and output",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "input": {
                    "description": "High-level summary statistics for input/output reads",
                    "$ref": "#/definitions/basicSummary"
                },
                "demultiplexing": {
                    "description": "Summary statistics of sample demultiplexing",
                    "oneOf": [
                        {
                            "type": "null"
                        },
                        {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "total_reads": {
                                    "description": "The number of reads processed during demultiplexing; the sum of mate 1 and mate 2 reads",
                                    "$ref": "#/definitions/count"
                                },
                                "assigned_reads": {
                                    "description": "The number of reads that could unambiguously be assigned to a sample",
                                    "$ref": "#/definitions/count"
                                },
                                "ambiguous_reads": {
                                    "description": "The number of reads that could be assigned to multiple samples based on mismatch settings",
                                    "$ref": "#/definitions/count"
                                },
                                "unassigned_reads": {
                                    "description": "The number of reads that could not be assigned to a sample",
                                    "$ref": "#/definitions/count"
                                },
                                "samples": {
                                    "description": "Overview of the number of reads identified per sample",
                                    "type": "object",
                                    "additionalProperties": {
                                        "description": "Number of input reads identified for a given sample",
                                        "$ref": "#/definitions/count"
                                    }
                                }
                            },
                            "required": [
                                "total_reads",
                                "assigned_reads",
                                "ambiguous_reads",
                                "unassigned_reads",
                                "samples"
                            ]
                        }
                    ]
                },
                "adapter_trimming": {
                    "description": "Sequence alignment and adapter trimming statistics; null if adapter trimming is disabled",
                    "$ref": "#/definitions/optional-adapter-trimming-statistics"
                },
                "quality_trimming": {
                    "description": "Summary of non-adapter based trimming performed on the input reads",
                    "$ref": "#/definitions/optional-quality-trimming-statistics"
                },
                "poly_x_trimming": {
                    "description": "Summary of poly-X trimming performed on the input reads",
                    "$ref": "#/definitions/optional-poly-x-trimming-statistics"
                },
                "filtering": {
                    "description": "Summary of filtering steps performed on the input reads",
                    "$ref": "#/definitions/optional-filtering-statistics"
                },
                "output": {
                    "description": "Basic summary of output files by broad type",
                    "oneOf": [
                        {
                            "type": "null"
                        },
                        {
                            "type": "object",
                            "additionalProperties": false,
                            "properties": {
                                "passed": {
                                    "description": "A basic summary of reads that passed filtering criteria",
                                    "$ref": "#/definitions/basicSummary"
                                },
                                "unidentified": {
                                    "description": "A basic summary of unidentified reads",
                                    "$ref": "#/definitions/optionalBasicSummary"
                                },
                                "discarded": {
                                    "description": "A basic summary that of discarded reads",
                                    "$ref": "#/definitions/optionalBasicSummary"
                                }
                            },
                            "required": [
                                "passed",
                                "unidentified",
                                "discarded"
                            ]
                        }
                    ]
                }
            },
            "required": [
                "input",
                "demultiplexing",
                "adapter_trimming",
                "quality_trimming",
                "poly_x_trimming",
                "filtering",
                "output"
            ]
        },
        "input": {
            "description": "Detailed input file statistics",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "read1": {
                    "description": "Detailed sequence statistics for input mate 1 reads",
                    "$ref": "#/definitions/detailed-sequence-statistics"
                },
                "read2": {
                    "description": "Detailed sequence statistics for input mate 2 reads, if running in paried-end mode",
                    "$ref": "#/definitions/optional-detailed-sequence-statistics"
                }
            },
            "required": [
                "read1",
                "read2"
            ]
        },
        "demultiplexing": {
            "description": "Detailed per-sample input/output file statistics",
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "assigned_reads": {
                            "description": "The number of reads that could unambiguously be assigned to a sample",
                            "$ref": "#/definitions/count"
                        },
                        "ambiguous_reads": {
                            "description": "The number of reads that could be assigned to multiple samples based on mismatch settings",
                            "$ref": "#/definitions/count"
                        },
                        "unassigned_reads": {
                            "description": "The number of reads that could not be assigned to a sample",
                            "$ref": "#/definitions/count"
                        },
                        "samples": {
                            "description": "Detailed statistics per demultiplexing sample",
                            "type": "object",
                            "additionalProperties": {
                                "description": "Demultiplexed sample",
                                "type": "object",
                                "additionalProperties": false,
                                "properties": {
                                    "reads": {
                                        "description": "The number of reads assigned to each sample",
                                        "$ref": "#/definitions/count"
                                    },
                                    "adapter_trimming": {
                                        "description": "Sequence alignment and adapter trimming statistics; null if adapter trimming is disabled",
                                        "$ref": "#/definitions/optional-adapter-trimming-statistics"
                                    },
                                    "quality_trimming": {
                                        "description": "Summary of non-adapter based trimming performed on the input",
                                        "$ref": "#/definitions/optional-quality-trimming-statistics"
                                    },
                                    "poly_x_trimming": {
                                        "description": "Summary of poly-X trimming performed on the input",
                                        "$ref": "#/definitions/optional-poly-x-trimming-statistics"
                                    },
                                    "filtering": {
                                        "description": "Summary of filtering steps performed on the processed input",
                                        "$ref": "#/definitions/optional-filtering-statistics"
                                    },
                                    "output": {
                                        "description": "Detailed statistics for each output file for a given sample",
                                        "type": "object",
                                        "additionalProperties": false,
                                        "properties": {
                                            "read1": {
                                                "description": "Detailed sequence statistics for mate 1 reads",
                                                "$ref": "#/definitions/detailed-sequence-statistics"
                                            },
                                            "read2": {
                                                "description": "Detailed sequence statistics for mate 2 reads, if running in paried-end mode",
                                                "$ref": "#/definitions/optional-detailed-sequence-statistics"
                                            },
                                            "merged": {
                                                "description": "Detailed sequence statistics for merged reads, if running in paried-end mode and merging is enabled",
                                                "$ref": "#/definitions/optional-detailed-sequence-statistics"
                                            },
                                            "singleton": {
                                                "description": "Detailed sequence statistics for paired reads where one mate was discarded",
                                                "$ref": "#/definitions/optional-detailed-sequence-statistics"
                                            },
                                            "discarded": {
                                                "description": "Detailed sequence statistics for discarded reads",
                                                "$ref": "#/definitions/optional-detailed-sequence-statistics"
                                            }
                                        },
                                        "required": [
                                            "discarded",
                                            "merged",
                                            "read1",
                                            "read2",
                                            "singleton"
                                        ]
                                    }
                                }
                            }
                        }
                    },
                    "required": [
                        "assigned_reads",
                        "ambiguous_reads",
                        "unassigned_reads"
                    ]
                }
            ]
        },
        "output": {
            "description": "Detailed output file statistics",
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "type": "object",
                    "additionalProperties": false,
                    "properties": {
                        "read1": {
                            "description": "Detailed sequence statistics for mate 1 reads",
                            "$ref": "#/definitions/detailed-sequence-statistics"
                        },
                        "read2": {
                            "description": "Detailed sequence statistics for mate 2 reads, if running in paried-end mode",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        },
                        "merged": {
                            "description": "Detailed sequence statistics for merged reads, if running in paried-end mode and merging is enabled",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        },
                        "unidentified_1": {
                            "description": "Detailed sequence statistics for mate 1 reads that could not be mapped to a sample, if demultiplexing is enabled",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        },
                        "unidentified_2": {
                            "description": "Detailed sequence statistics for mate 2 reads that could not be mapped to a sample, if running in paired-end mode and demultiplexing is enabled",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        },
                        "singleton": {
                            "description": "Detailed sequence statistics for paired reads where one mate was discarded",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        },
                        "discarded": {
                            "description": "Detailed sequence statistics for discarded reads",
                            "$ref": "#/definitions/optional-detailed-sequence-statistics"
                        }
                    },
                    "required": [
                        "read1",
                        "read2",
                        "merged",
                        "unidentified_1",
                        "unidentified_2",
                        "singleton",
                        "discarded"
                    ]
                }
            ]
        }
    },
    "definitions": {
        "unit-interval": {
            "type": "number",
            "minimum": 0,
            "maximum": 1
        },
        "optional-unit-interval": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/unit-interval"
                }
            ]
        },
        "array-of-unit-intervals": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/unit-interval"
            }
        },
        "count": {
            "type": "integer",
            "minimum": 0
        },
        "optional-count": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/count"
                }
            ]
        },
        "array-of-counts": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/count"
            }
        },
        "optional-array-of-counts": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/array-of-counts"
                }
            ]
        },
        "non-negative-number": {
            "type": "number",
            "minimum": 0
        },
        "optional-non-negative-number": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/non-negative-number"
                }
            ]
        },
        "array-of-non-negative-numbers": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/non-negative-number"
            }
        },
        "optional-array-of-non-negative-numbers": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/array-of-non-negative-numbers"
                }
            ]
        },
        "average-phred-score": {
            "type": "number",
            "minimum": 0,
            "maximum": 126
        },
        "optional-average-phred-score": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/average-phred-score"
                }
            ]
        },
        "array-of-optional-average-phred-scores": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/optional-average-phred-score"
            }
        },
        "non-empty-string": {
            "type": "string",
            "minLength": 1
        },
        "array-of-non-empty-strings": {
            "type": "array",
            "items": {
                "$ref": "#/definitions/non-empty-string"
            }
        },
        "non-empty-array-of-non-empty-strings": {
            "$ref": "#/definitions/array-of-non-empty-strings",
            "minItems": 1
        },
        "non-empty-array-of-strings": {
            "type": "array",
            "items": {
                "type": "string"
            },
            "minItems": 1
        },
        "basicSummary": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "reads": {
                    "description": "Total number of input reads, including both mate 1 and mate 2 reads",
                    "$ref": "#/definitions/count"
                },
                "bases": {
                    "description": "Total number of input bases, summed across mate 1 and mate 2 reads",
                    "$ref": "#/definitions/count"
                },
                "mean_length": {
                    "description": "Mean length of input reads",
                    "$ref": "#/definitions/optional-non-negative-number"
                },
                "reads_sampled": {
                    "description": "Number of input reads sampled based on --report-sample-rate",
                    "$ref": "#/definitions/count"
                },
                "q20_rate": {
                    "description": "Fraction of bases with a Phred quality score of at least 20",
                    "$ref": "#/definitions/optional-unit-interval"
                },
                "q30_rate": {
                    "description": "Fraction of bases with a Phred quality score of at least 30",
                    "$ref": "#/definitions/optional-unit-interval"
                },
                "uncalled_rate": {
                    "description": "Fraction of bases called as 'N' in the input reads",
                    "$ref": "#/definitions/optional-unit-interval"
                },
                "gc_content": {
                    "description": "Mean GC content in the input reads",
                    "$ref": "#/definitions/optional-unit-interval"
                }
            },
            "required": [
                "reads",
                "bases",
                "mean_length",
                "reads_sampled",
                "q20_rate",
                "q30_rate",
                "uncalled_rate",
                "gc_content"
            ]
        },
        "optionalBasicSummary": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/basicSummary"
                }
            ]
        },
        "adapter-trimming-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "adapters": {
                    "description": "Trimming statistics for each set of user-supplied adapter sequences",
                    "type": "array",
                    "items": {
                        "type": "object",
                        "additionalProperties": false,
                        "properties": {
                            "sequence_1": {
                                "description": "The --adapter1 sequence",
                                "type": "string"
                            },
                            "sequence_2": {
                                "description": "The --adapter2 sequence",
                                "type": "string"
                            },
                            "reads": {
                                "description": "The number of reads successfully aligned against this adapter",
                                "$ref": "#/definitions/count"
                            },
                            "bases": {
                                "description": "The number of bases successfully aligned against this adapter",
                                "$ref": "#/definitions/count"
                            }
                        },
                        "required": [
                            "sequence_1",
                            "sequence_2",
                            "reads",
                            "bases"
                        ]
                    }
                },
                "overlapping_reads": {
                    "description": "The number of reads found to be overlapping. Reads are considered overlapping if they can be merged according to user settings",
                    "$ref": "#/definitions/count"
                },
                "insert_sizes": {
                    "description": "Distribution of read-pairs by inferred insert size",
                    "$ref": "#/definitions/optional-array-of-counts"
                }
            },
            "required": [
                "adapters",
                "overlapping_reads",
                "insert_sizes"
            ]
        },
        "optional-adapter-trimming-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/adapter-trimming-statistics"
                }
            ]
        },
        "quality-trimming-statistics": {
            "$comment": "FIXME: Add summary of adapter trimming",
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "terminal_pre": {
                    "description": "The number of reads and bases trimmed from read termini prior to sequence alignment and adapter trimming",
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "terminal_post": {
                    "description": "The number of reads and bases trimmed from read termini after sequence alignment and adapter trimming",
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "low_quality": {
                    "description": "The number of reads and bases trimmed to remove low-quality bases",
                    "$ref": "#/definitions/processing-step-statistics"
                }
            }
        },
        "optional-quality-trimming-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/quality-trimming-statistics"
                }
            ]
        },
        "poly-x-trimming-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "pre": {
                    "description": "Number of reads and bases trimmed for poly-X tails prior to sequence alignment and adapter trimming",
                    "$ref": "#/definitions/poly-x-tail-statistics"
                },
                "post": {
                    "description": "Number of reads and bases trimmed for poly-X tails after sequence alignment and adapter trimming",
                    "$ref": "#/definitions/poly-x-tail-statistics"
                }
            }
        },
        "optional-poly-x-trimming-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/poly-x-trimming-statistics"
                }
            ]
        },
        "poly-x-tail-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "a": {
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "c": {
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "g": {
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "t": {
                    "$ref": "#/definitions/processing-step-statistics"
                }
            }
        },
        "filtering-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "min_length": {
                    "description": "Filtering of short reads",
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "max_length": {
                    "description": "Filtering of long reads",
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "ambiguous_bases": {
                    "description": "Filtering of reads by the number/fraction of uncalled bases",
                    "$ref": "#/definitions/processing-step-statistics"
                },
                "low_complexity": {
                    "description": "Filtering of low-complexity reads",
                    "$ref": "#/definitions/processing-step-statistics"
                }
            }
        },
        "optional-filtering-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/filtering-statistics"
                }
            ]
        },
        "detailed-sequence-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "filenames": {
                    "description": "List of input files read from/output files written to",
                    "$ref": "#/definitions/array-of-non-empty-strings"
                },
                "input_reads": {
                    "description": "The number reads that went into producing the output, merged reads are counted as two reads",
                    "$ref": "#/definitions/count"
                },
                "output_reads": {
                    "description": "The number of reads output; merged reads are counted as one read",
                    "$ref": "#/definitions/count"
                },
                "reads_sampled": {
                    "description": "The number of reads sampled for detailed statistics; see --report-sample-rate",
                    "$ref": "#/definitions/count"
                },
                "lengths": {
                    "description": "Length distribution of reads written to output",
                    "type": "array",
                    "items": {
                        "$ref": "#/definitions/count"
                    }
                },
                "quality_curves": {
                    "description": "Per nucleotide and mean quality scores by position",
                    "$ref": "#/definitions/optional-sequence-quality-statistics"
                },
                "content_curves": {
                    "description": "Nucleotide composition of the sequences",
                    "$ref": "#/definitions/optional-nucleotide-content-statistics"
                },
                "quality_scores": {
                    "description": "Phred score distrubution of reads written to output",
                    "$ref": "#/definitions/optional-array-of-counts"
                },
                "gc_content": {
                    "description": "Smoothed distrubution of GC content per read",
                    "$ref": "#/definitions/optional-array-of-non-negative-numbers"
                },
                "duplication": {
                    "description": "Duplication estimates performed using the FastQC algorithm",
                    "$ref": "#/definitions/optional-duplication-statistics"
                }
            },
            "required": [
                "filenames",
                "input_reads",
                "output_reads",
                "reads_sampled",
                "lengths",
                "quality_curves",
                "content_curves",
                "quality_scores",
                "gc_content"
            ]
        },
        "optional-detailed-sequence-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/detailed-sequence-statistics"
                }
            ]
        },
        "nucleotide-content-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "a": {
                    "description": "The fraction of adenine by position",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "c": {
                    "description": "The fraction of cytosine by position",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "g": {
                    "description": "The fraction of guanine by position",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "t": {
                    "description": "The fraction of thymine by position",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "n": {
                    "description": "The fraction of uncalled nucleotides by position",
                    "$ref": "#/definitions/array-of-unit-intervals"
                }
            },
            "required": [
                "a",
                "c",
                "g",
                "t",
                "n"
            ]
        },
        "optional-nucleotide-content-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/nucleotide-content-statistics"
                }
            ]
        },
        "sequence-quality-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "a": {
                    "description": "Mean Phred quality-score by position for adenine",
                    "$ref": "#/definitions/array-of-optional-average-phred-scores"
                },
                "c": {
                    "description": "Mean Phred quality-score by position for cytosine",
                    "$ref": "#/definitions/array-of-optional-average-phred-scores"
                },
                "g": {
                    "description": "Mean Phred quality-score by position for guanine",
                    "$ref": "#/definitions/array-of-optional-average-phred-scores"
                },
                "t": {
                    "description": "Mean Phred quality-score by position for thymine",
                    "$ref": "#/definitions/array-of-optional-average-phred-scores"
                },
                "mean": {
                    "description": "Mean Phred quality-score by position",
                    "$ref": "#/definitions/array-of-optional-average-phred-scores"
                }
            },
            "required": [
                "a",
                "c",
                "g",
                "t",
                "mean"
            ]
        },
        "optional-sequence-quality-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/sequence-quality-statistics"
                }
            ]
        },
        "duplication-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "labels": {
                    "description": "X-axis labels indicating the number of copies of a read (binned)",
                    "$ref": "#/definitions/non-empty-array-of-non-empty-strings"
                },
                "unique_sequences": {
                    "description": "The distribution of unique sequences by bin",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "total_sequences": {
                    "description": "The distribution of sequences by bin",
                    "$ref": "#/definitions/array-of-unit-intervals"
                },
                "unique_frac": {
                    "description": "The fraction of sequences that are unique (having zero duplicates)",
                    "$ref": "#/definitions/unit-interval"
                }
            }
        },
        "optional-duplication-statistics": {
            "oneOf": [
                {
                    "type": "null"
                },
                {
                    "$ref": "#/definitions/duplication-statistics"
                }
            ]
        },
        "processing-step-statistics": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
                "reads": {
                    "description": "Number of reads modified by the processing step",
                    "$ref": "#/definitions/count"
                },
                "bases": {
                    "description": "Number of bases modified by the processing step",
                    "$ref": "#/definitions/count"
                }
            },
            "required": [
                "reads",
                "bases"
            ]
        }
    }
}